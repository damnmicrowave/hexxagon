(this.webpackJsonphexxagon=this.webpackJsonphexxagon||[]).push([[0],{10:function(e,t,n){e.exports={board:"Board_board__1FVup"}},16:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var r=n(1),c=n.n(r),a=n(9),l=n.n(a),i=n(3),o=n(4),h=n(5),s=n(6),u=n.n(s),d=function(e,t,n){return n?e.grid["".concat(n.q).concat(n.r)]:e.grid["".concat(null===t||void 0===t?void 0:t.q).concat(null===t||void 0===t?void 0:t.r)]},g=[[1,0],[1,-1],[0,-1],[-1,0],[-1,1],[0,1]],f=function(e,t){return(Math.abs(e.q-t.q)+Math.abs(e.q+e.r-t.q-t.r)+Math.abs(e.r-t.r))/2},b=n(2),v=n.n(b),j=n(0),_=function(e){var t=Object(r.useContext)(k),n=Object(r.useRef)(null),c=Object(r.useCallback)((function(e){var r=n.current;r&&(!function(e,t){var n=Object(o.a)(e,2),r=n[0],c=n[1],a=t.left,l=t.top,i=t.width,h=t.height,s=i/2+a,u=h/2+l,d=i/2,g=h/4,f=Math.abs(r-s),b=Math.abs(c-u);return!(f>d||b>2*g)&&2*g*d-g*f-d*b>=0}([e.clientX,e.clientY],r.getBoundingClientRect())||!r.classList.contains(v.a[t.currentPlayer])&&!r.classList.contains(v.a.highlighted)?r.classList.remove(v.a.hovered):r.classList.add(v.a.hovered))}),[t.currentPlayer]);Object(r.useEffect)((function(){return window.addEventListener("mousemove",c),function(){return window.removeEventListener("mousemove",c)}}),[c]);var a=e.q,l=e.r,i=e.state,s=e.highlighted,d=e.highlightColor;return Object(j.jsx)("div",{ref:n,className:u()(v.a.cellBox,v.a[i],Object(h.a)({},v.a.highlighted,s)),onClick:function(){s?t.makeMove(e):t.selectCell(e)},style:{"--q":a,"--r":l},children:Object(j.jsxs)("div",{className:v.a.hexagonBox,children:[Object(j.jsx)("div",{className:v.a.hexagon}),s&&Object(j.jsx)("div",{style:{backgroundColor:d},className:v.a.highlighting})]})})},O=n(10),x=n.n(O),C=function(e){return Object(j.jsx)("div",{className:x.a.board,children:Object.values(e.grid).map((function(e){return Object(j.jsx)(_,Object(i.a)({},e),"".concat(e.q).concat(e.r))}))})},m=n(8),y=n.n(m),w=function(e){return Object(j.jsx)("div",{className:u()(y.a.header,y.a[e.currentPlayer]),children:"HEXXAGON"})},p=(n(16),function(e){for(var t={},n=~~(e/2),r=-n;r<=n;r++)for(var c=-n;c<=n;c++)Math.abs(r+c)<=n&&(t["".concat(r).concat(c)]={q:r,r:c,highlighted:!1,state:"empty"});return g.forEach((function(e,r){var c=Object(o.a)(e,2),a=c[0],l=c[1];t["".concat(n*a).concat(n*l)].state=r%2===0?"white":"black"})),delete t["0-1"],delete t[10],delete t[-11],t}),k=Object(r.createContext)({grid:{},currentPlayer:"white",makeMove:function(){},selectCell:function(){}}),P=function(){var e={grid:p(9),currentPlayer:"white",makeMove:function(e){a((function(t){var n=Object(i.a)({},t),r=d(c,e);return r.state=n.currentPlayer,Object.values(n.grid).forEach((function(e){e.highlighted=!1})),Object.values(n.grid).forEach((function(e){1===f(r,e)&&"empty"!==e.state&&e.state!==n.currentPlayer&&(e.state=n.currentPlayer)})),n.selectedCell&&1!==f(n.selectedCell,r)&&(d(c,n.selectedCell).state="empty"),n.currentPlayer="white"===n.currentPlayer?"black":"white",n}))},selectCell:function(e){a((function(t){var n,r,c=Object(i.a)({},t);return c.selectedCell=c.selectedCell&&(n=c.selectedCell,r=e,n.r===r.r&&n.q===r.q)?void 0:e,Object.values(c.grid).forEach((function(e){e.highlighted=!1})),c.selectedCell&&Object.values(c.grid).forEach((function(t){1===f(e,t)&&"empty"===t.state?(t.highlighted=!0,t.highlightColor="#00ff00"):2===f(e,t)&&"empty"===t.state&&(t.highlighted=!0,t.highlightColor="#ffff00")})),c}))}},t=Object(r.useState)(e),n=Object(o.a)(t,2),c=n[0],a=n[1],l=Object(r.useCallback)((function(){var e=Object.values(c.grid).filter((function(e){return"black"===e.state})),t=Object.values(c.grid).filter((function(e){return"white"===e.state})),n=Object.values(c.grid).filter((function(e){return"empty"===e.state})),r=Object.values(c.grid);return e.length?t.length?n.every((function(e){return r.filter((function(t){return f(e,t)<=2})).every((function(e){return e.state!==c.currentPlayer}))}))?e.length>t.length?"black":"white":null:"black":"white"}),[c]);return Object(r.useEffect)((function(){var e=l();e&&(alert("".concat(e," wins !")),window.location.reload())}),[l]),Object(j.jsxs)(k.Provider,{value:c,children:[Object(j.jsx)(w,{currentPlayer:c.currentPlayer}),Object(j.jsx)(C,{grid:c.grid})]})},q=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,a=t.getLCP,l=t.getTTFB;n(e),r(e),c(e),a(e),l(e)}))};l.a.render(Object(j.jsx)(c.a.StrictMode,{children:Object(j.jsx)(P,{})}),document.getElementById("root")),q()},2:function(e,t,n){e.exports={cellBox:"Cell_cellBox__2Plcb",hovered:"Cell_hovered__2H7x8",empty:"Cell_empty__agmQX",highlighted:"Cell_highlighted__1df4d",hexagon:"Cell_hexagon__3UWhu",hexagonBox:"Cell_hexagonBox__2HdQL",highlighting:"Cell_highlighting__25vgi",white:"Cell_white__2kwCy",black:"Cell_black__1hpf_"}},8:function(e,t,n){e.exports={header:"Header_header__1fCsm",white:"Header_white__1rXBj",black:"Header_black__2j6w4"}}},[[17,1,2]]]);
//# sourceMappingURL=main.29c81d3f.chunk.js.map